# 操作系统笔试题

## 进程间通信方式

- 管道（Pipe）：管道可用于具有亲缘关系进程间的通信，允许一个进程和另一个与它有共同祖先的进程之间进行通信。速度慢，容量有限

- 命名管道（named pipe）：命名管道克服了管道没有名字的限制，因此，除具有管道所具有的功能外，它还允许无亲缘关系进程间的通信。命名管道在文件系统中有对应的文件名。命名管道通过命令mkfifo或系统调用mkfifo来创建。

- 信号（Signal）：信号是比较复杂的通信方式，用于通知接受进程有某种事件发生，除了用于进程间通信外，进程还可以发送信号给进程本身；linux除了支持Unix早期信号语义函数sigal外，还支持语义符合Posix.1标准的信号函数sigaction（实际上，该函数是基于BSD的，BSD为了实现可靠信号机制，又能够统一对外接口，用sigaction函数重新实现了signal函数）。

- 消息队列：消息队列是消息的链接表，包括Posix消息队列system V消息队列。有足够权限的进程可以向队列中添加消息，被赋予读权限的进程则可以读走队列中的消息。消息队列克服了信号承载信息量少，管道只能承载无格式字节流以及缓冲区大小受限等缺陷，容量受到系统限制，且要注意第一次读的时候，要考虑上一次没有读完数据的问题。

- 共享内存：使得多个进程可以访问同一块内存空间，是最快的可用IPC形式。是针对其他通信机制运行效率较低而设计的。往往与其它通信机制，如信号量结合使用，来达到进程间的同步及互斥。

- 内存映射（mapped memory）：内存映射允许任何多个进程间通信，每一个使用该机制的进程通过把一个共享的文件映射到自己的进程地址空间来实现它。

- 信号量（semaphore）：主要作为进程间以及同一进程不同线程之间的同步手段。不能传递复杂消息，只能用来同步

- 套接字（Socket）：更为一般的进程间通信机制，可用于不同机器之间的进程间通信。起初是由Unix系统的BSD分支开发出来的，但现在一般可以移植到其它类Unix系统上：Linux和System V的变种都支持套接字。

- 文件锁

## 同步的概念

- 多个进程常常需要共同修改某些共享变量，表格，文件数据库等，协作完成一些功能。

## 进程线程区别

- 进程是系统进行资源调度的基本单位。
- 线程是CPU分派的基本单位
- 进程具有控制表PCB，而线程也有自己的控制表TCB
- 系统在运行的时候会为每个进程分配不同的内存区域，但是不会为线程分配内存（线程所使用的资源是它所属的进程的资源），线程组只能共享资源。线程只能共享它所属进程的资源。

## 多线程

- 哲学家就餐场景可能会发生死锁
- 继承Thread类与实现Runnable接口都可以实现多线程
- wait:释放cpu执行权，释放锁
- sleep:释放cpu执行权，不释放锁
- Stringbuffer 是线程安全的，Stringbuilder是线程不安全的
- Hashtable是线程安全的，hashmap不是线程安全的

## 虚拟内存

- 解放物理空间的存储管理, 使得数据被分配的地址与逻辑上程序执行的上下文解耦。
- 提供进程之间的地址空间隔离，防止进程访问地址越界或非法。
- 在多进程中，应避免进程的虚拟空间地址映射到相同的物理空间地址。

## 什么是死锁？

如果一个进程集合里面的每个进程都在等待这个集合中的其他一个进程（包括自身）才能继续往下执行，若无外力他们将无法推进，这种情况就是死锁，处于死锁状态的进程称为死锁进程

## 产生死锁的四个必要条件？

- （1）互斥条件：进程对所分配到的资源不允许其他进程进行访问，若其他进程访问该资源，只能等待，直至占有该资源的进程使用完成后释放该资源
- （2）请求和保持条件：进程获得一定的资源之后，又对其他资源发出请求，但是该资源可能被其他进程占有，此事请求阻塞，但又对自己获得的资源保持不放
- （3）不可剥夺条件：是指进程已获得的资源，在未完成使用之前，不可被剥夺，只能在使用完后自己释放
- （4）环路等待条件：是指进程发生死锁后，必然存在一个进程--资源之间的环形链

## 文件权限

0～9位符号说明： 第0位：- 表示普通文件，d表示目录。 1～3位：表示文件所有者权限，r可读，w可写，x可执行，-表示无此权限；比如：r-x表示可读不可写可执行（3个字母顺序是固定的，哪个位置上是 - 就说明无此权限）。 4～6位：表示文件所在组成员权限，内容与1～3位一致。 7～9位：表示其他组成员权限，内容与1～3位一致。rwx分别为421