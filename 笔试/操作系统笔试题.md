# 操作系统笔试题

## 进程间通信方式

- 管道：速度慢，容量有限
- 消息队列：容量受到系统限制，且要注意第一次读的时候，要考虑上一次没有读完数据的问题。
- 信号量：不能传递复杂消息，只能用来同步
- 共享内存区：能够很容易控制容量，速度快，但要保持同步，比如一个进程在写的时候，另一个进程要注意读写的问题，相当于线程中的线程安全，当然，共享内存区同样可以用作线程间通讯，不过没这个必要，线程间本来就已经共享了一块内存的。 

## 同步的概念

- 多个进程常常需要共同修改某些共享变量，表格，文件数据库等，协作完成一些功能。

## 进程线程区别

- 进程是系统进行资源调度的基本单位。
- 线程是CPU分派的基本单位
- 进程具有控制表PCB，而线程也有自己的控制表TCB
- 系统在运行的时候会为每个进程分配不同的内存区域，但是不会为线程分配内存（线程所使用的资源是它所属的进程的资源），线程组只能共享资源。线程只能共享它所属进程的资源。

## 多线程

- 哲学家就餐场景可能会发生死锁
- 继承Thread类与实现Runnable接口都可以实现多线程
- wait:释放cpu执行权，释放锁
- sleep:释放cpu执行权，不释放锁
- Stringbuffer 是线程安全的，Stringbuilder是线程不安全的
- Hashtable是线程安全的，hashmap不是线程安全的

## 虚拟内存

- 解放物理空间的存储管理, 使得数据被分配的地址与逻辑上程序执行的上下文解耦。
- 提供进程之间的地址空间隔离，防止进程访问地址越界或非法。
- 在多进程中，应避免进程的虚拟空间地址映射到相同的物理空间地址。

## 什么是死锁？

如果一个进程集合里面的每个进程都在等待这个集合中的其他一个进程（包括自身）才能继续往下执行，若无外力他们将无法推进，这种情况就是死锁，处于死锁状态的进程称为死锁进程

## 产生死锁的四个必要条件？

- （1）互斥条件：进程对所分配到的资源不允许其他进程进行访问，若其他进程访问该资源，只能等待，直至占有该资源的进程使用完成后释放该资源
- （2）请求和保持条件：进程获得一定的资源之后，又对其他资源发出请求，但是该资源可能被其他进程占有，此事请求阻塞，但又对自己获得的资源保持不放
- （3）不可剥夺条件：是指进程已获得的资源，在未完成使用之前，不可被剥夺，只能在使用完后自己释放
- （4）环路等待条件：是指进程发生死锁后，必然存在一个进程--资源之间的环形链