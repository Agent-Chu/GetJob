# 数据库笔试题

## 事务的四个特征(ACID)

原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）、持久性（Durability）。

## 事务隔离级别

- 1.未提交读(Read Uncommitted)：该隔离级别允许脏读取，其隔离级别是最低的。换句话说，如果一个事务正在处理某一数据，并对其进行了更新，但同时尚未完成事务，因此还没有提交事务；而以此同时，允许另一个事务也能够访问该数据。脏读是指在一个事务处理过程里读取了另一个未提交的事务中的数据。
- 2.提交读(Read Committed)：是不同的时候执行的时候只能获取到已经提交的数据。这样就不会出现上面的脏读的情况了。可是解决了脏读问题，但是还是解决不了可重复读问题。
- 3.可重复读(Repeated Read)：就是保证在事务处理过程中，多次读取同一个数据时，该数据的值和事务开始时刻是一致的。因此该事务级别进制了不可重复读取和脏读，但是有可能出现幻读的数据。所以只能用顺序读了。
- 4.顺序读：是最严格的事务隔离级别。它要求所有的事务排队顺序执行，即事务只能一个接一个地处理，不能并发
幻读就是指同样的事务操作，在前后两个时间段内执行对同一个数据项的读取，可能出现不一致的结果。

## 主键和唯一索引的区别

1.主键为一种约束，唯一索引为一种索引，本质上就不同；

2.主键创建后一定包含唯一性索引，而唯一索引不一定就是主键；

3.主键不允许空值，唯一索引可以为空；

4.主键可以被其他表引用，而唯一索引不可以；

5.一个表最多只能创建一个主键，而可以创建多个唯一索引；

6.主键和索引都是键，主键是逻辑键，索引为物理键，即主键不实际存在。

## 约束

- 1.主键约束（PRIMARY KEY）

1) 主键用于唯一地标识表中的每一条记录，可以定义一列或多列为主键。
2) 是不可能（或很难）更新．
3) 主键列上没有任何两行具有相同值（即重复值），不允许空（NULL）．
4) 主健可作外健，唯一索引不可；

- 2.唯一性约束（UNIQUE）

1) 唯一性约束用来限制不受主键约束的列上的数据的唯一性，用于作为访问某行的可选手段，一个表上可以放置多个唯一性约束．
2) 只要唯一就可以更新．
3) 即表中任意两行在  指定列上都不允许有相同的值，允许空（NULL）．
4) 一个表上可以放置多个唯一性约束

- 3.唯一索引（INDEX）

创建唯一索引可以确保任何生成重复键值的尝试都会失败。

## 约束和索引区别

前者是用来检查数据的正确性，后者用来实现数据查询的优化，目的不同。

## 唯一性约束与唯一索引

（1）.唯一性约束允许在该列上存在NULL值，而主键约束的限制更为严格，不但不允许有重复，而且也不允许有空值。
（2）.在创建唯一性约束和主键约束时可以创建聚集索引和非聚集索引，但在 默认情况下主键约束产生聚集索引，而唯一性约束产生非聚集索引

   （1）.创建唯一约束会在Oracle中创建一个Constraint，同时也会创建一个该约束对应的唯一索引。

   （2）.创建唯一索引只会创建一个唯一索引，不会创建Constraint。

   也就是说其实唯一约束是通过创建唯一索引来实现的。

   在删除时这两者也有一定的区别：

   删除唯一约束时可以只删除约束而不删除对应的索引，所以对应的列还是必须唯一的，

   而删除了唯一索引的话就可以插入不唯一的值

## count

count(*)肯定是查全部的记录条数了
count(数字)，和count(*)效果一样，有几条记录就显示几
count(属性名)则查处的是属性名下面的非null数据的个数
count()则报错 错误码: 1064

## 范式

 第一范式就是无重复的列。
第二范式就是非主属性非部分依赖于主关键字。
第三范式就是属性不依赖于其它非主属性。
第五范式（5NF）是最终范式，消除了4NF中的连接依赖 