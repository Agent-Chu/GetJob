# 计算机网络笔试题

## HTTP请求方法

- GET：获取资源，GET方法用来请求已被URI识别的资源。指定的资源经服务器端解析后返回响应内容（也就是说，如果请求的资源是文本，那就保持原样返回；如果是CGI[通用网关接口]那样的程序，则返回经过执行后的输出结果）。

- POST：传输实体文本，虽然用GET方法也可以传输实体的主体，但一般不用GET方法进行传输，而是用POST方法；虽然GET方法和POST方法很相似，但是POST的主要目的并不是获取响应的主体内容。

- HEAD：获得报文首部，HEAD方法和GET方法一样，知识不返回豹纹的主体部分，用于确认URI的有效性及资源更新的日期时间等。

- PUT：传输文件，PUT方法用来传输文件，就像FTP协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存在请求URI指定的位置。但是HTTP/1.1的PUT方法自身不带验证机制，任何人都可以上传文件，存在安全问题，故一般不用。

- DELETE：删除文件，指明客户端想让服务器删除某个资源，与PUT方法相反，按URI删除指定资源

- OPTIONS：询问支持的方法，OPTIONS方法用来查询针对请求URI指定资源支持的方法（客户端询问服务器可以提交哪些请求方法）

- TRACE：追踪路径，客户端可以对请求消息的传输路径进行追踪，TRACE方法是让Web服务器端将之前的请求通信还给客户端的方法

- CONNECT：要求用隧道协议连接代理，CONNECT方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信。主要使用SSL（安全套接层）和TLS（传输层安全）协议把通信内容加密后经网络隧道传输

## TCP和UDP

- TCP是有连接的，两台主机在进行数据交互之前必须先通过三次握手建立连接；而UDP是无连接的，没有建立连接这个过程

- TCP是可靠的传输，TCP协议通过确认和重传机制来保证数据传输的可靠性；而UDP是不可靠的传输

- TCP提供了拥塞控制和滑动窗口等机制来保证传输的质量，UDP都没有

- TCP是基于字节流的，将数据看做无结构的字节流进行传输，会对数据进行分段，因此TCP的数据是无边界的；而UDP是面向报文的，不会对数据报进行任何拆分等处理，因此UDP保留了应用层数据的边界

TCP支持的应用协议主要有：Telnet、FTP、SMTP等；UDP支持的应用层协议主要有：NFS（网络文件系统）、SNMP（简单网络管理协议）、DNS（主域名称系统）、TFTP（通用文件传输协议）等

## 比较GET方法和POST方法

- 1、GET方法用于信息获取，它是安全的（安全：指非修改信息，如数据库方面的信息），而POST方法是用于修改服务器上资源的请求；

- 2、GET请求的数据会附在URL之后，而POST方法提交的数据则放置在HTTP报文实体的主体里，所以POST方法的安全性比GET方法要高；

- 3、GET方法传输的数据量一般限制在2KB，其原因在于：GET是通过URL提交数据，而URL本身对于数据没有限制，但是不同的浏览器对于URL是有限制的，比如IE浏览器对于URL的限制为2KB，而Chrome，FireFox浏览器理论上对于URL是没有限制的，它真正的限制取决于操作系统本身；POST方法对于数据大小是无限制的，真正影响到数据大小的是服务器处理程序的能力。

## OSI模型的七个层次

物理层 链路层 网络层 传输层 会话层 表示层 应用层

## HTTP状态码

- 1:服务器收到请求，需要用户继续执行操作
- 2:成功，操作被成功接受并处理
- 3:重定向，需要进一步操作
- 4:客户端错误，请求包含语法错误或者请求无法完成
- 5:服务器端错误，服务器在处理请求的时候发生错误

## HTTP和HTTPS

https://blog.csdn.net/xiaoming100001/article/details/81109617

## IP地址

- A 类地址 8bit 网络号 + 24bit 主机号
- B 类地址 16bit 网络号 + 16bit 主机号
- C 类地址 24bit 网络号 + 8bit 主机号
- D 类地址 多播地址
- E 类地址 保留

## ARP DNS

- DNS:域名到IP地址
- ARP:IP地址到物理地址

## 因为ping的话

因为ping的话 后面跟的是地址，所以要先将域名转换为ip地址，即用到了DNS 获取到ip地址后，在数据链路层是根据MAC地址传输的，所以要用到ARP解析服务，获取到MAC地址 ping功能是测试另一台主机是否可达，程序发送一份ICMP回显请求给目标主机，并等待返回ICMP回显应答，（ICMP主要是用于ip主机、路由器之间传递控制信息，控制信息是指网络通不通，主机是否科大） TCP的话，不涉及数据传输，不会用到

### TCP和UDP的区别
- TCP协议是有连接的，有连接的意思是开始传输实际数据之前TCP的客户端和服务器端必须通过三次握手建立连接，会话结束之后也要结束连接。而UDP是无连接的
- TCP协议保证数据按序发送，按序到达，提供超时重传来保证可靠性，但是UDP不保证按序到达，甚至不保证到达，只是努力交付，即便是按序发送的序列，也不保证按序送到。
- TCP协议所需资源多，TCP首部需20个字节（不算可选项），UDP首部字段只需8个字节。
- TCP有流量控制和拥塞控制，UDP没有，网络拥堵不会影响发送端的发送速率
- TCP是一对一的连接，而UDP则可以支持一对一，多对多，一对多的通信。
- TCP面向的是字节流的服务，UDP面向的是报文的服务。
### 三次握手
- A是客户端，B是服务端
- 首先 B 处于 LISTEN（监听）状态，等待客户的连接请求。
- A 向 B 发送连接请求报文，SYN=1，ACK=0，选择一个初始的序号 x。
- B 收到连接请求报文，如果同意建立连接，则向 A 发送连接确认报文，SYN=1，ACK=1，确认号为 x+1，同时也选择一个初始的序号 y。
- A 收到 B 的连接确认报文后，还要向 B 发出确认，确认号为 y+1，序号为 x+1。
- B 收到 A 的确认后，连接建立。
### 为什么要三次，不能两次
防止第一次确认因为网络延迟很晚到达服务端，这时服务端会认为是一个新的请求，如果没有第三次握手，则会直接建立链接
### TCP四次挥手
- A 发送连接释放报文，FIN=1。
- B 收到之后发出确认，此时 TCP 属于半关闭状态，B 能向 A 发送数据但是 A 不能向 B 发送数据。
- 当 B 不再需要连接时，发送连接释放报文，FIN=1。
- A 收到后发出确认，进入 TIME-WAIT 状态，等待 2 MSL（最大报文存活时间）后释放连接。
- B 收到 A 的确认后释放连接。
### 四次挥手时，第一次挥手后，客户端和服务器的TCP分别处于什么状态
- 此时 TCP 属于半关闭状态，B 能向 A 发送数据但是 A 不能向 B 发送数据。
### TCP如何保证传输的可靠性
- 校验和
- 确认应答：TCP传输的过程中，每次接收方收到数据后，都会对传输方进行确认应答。也就是发送ACK报文。这个ACK报文当中带有对应的确认序列号，告诉发送方，接收到了哪些数据，下一次的数据从哪里发。
- 序列号：TCP传输时将每个字节的数据都进行了编号，这就是序列号。
- 超时重传
- 连接管理：三次握手，四次挥手
- 流量控制
- 拥塞控制
### TCP的流量控制
- 流量控制是为了控制发送方发送速率，保证接收方来得及接收。
- 在TCP协议的报头信息当中，有一个16位字段的窗口大小。接收方发送的确认报文中的窗口字段可以用来控制发送方窗口大小，从而影响发送方的发送速率。将窗口字段设置为 0，则发送方不能发送数据。
- 流量控制是点对点控制。
- TCP是双工协议，双方可以同时通信，所以发送方接收方各自维护一个发送窗和接收窗。
### TCP的拥塞控制
- 如果网络出现拥塞，分组将会丢失，此时发送方会继续重传，从而导致网络拥塞程度更高。因此当出现拥塞时，应当控制发送方的速率。这一点和流量控制很像，但是出发点不同。流量控制是为了让接收方能来得及接收，而拥塞控制是为了降低整个网络的拥塞程度。
- TCP 主要通过四个算法来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。
### udp上实现一个可靠的协议要怎么做?保证数据有序性？
- 只需要提供一个重传机制即可。
- 为每一个发送出去的udp数据包分配一个包id，每次接收方收到一个数据包时，都要回应发送方一个ack对应这个包id。协议通过这种确认机制来保证接收方能收到发送方发出的udp数据包，在发出的时候，发送方应该设置一个计时器，超时的话会重传数据包。
### Time_wait有什么用
- 客户端接收到服务器端的 FIN 报文后进入此状态，此时并不是直接进入 CLOSED 状态，还需要等待一个时间计时器设置的时间 2MSL。
- 确保最后一个确认报文能够到达。如果 B 没收到 A 发送来的确认报文，那么就会重新发送连接释放请求报文，A 等待一段时间就是为了处理这种情况的发生。
- 等待一段时间是为了让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接不会出现旧的连接请求报文。
### TCP server最多可以建立多少个TCP连接
- 客户端每次发起一个tcp连接时,系统会随机选取一个空闲的端口,该端口是独占的不能与其他tcp连接共享,因此理论上一台机器有多少空闲的端口,就能对外发起多少个tcp连接
- 根据tcp/ip协议,端口port使用16位无符号整数unsigned short来存储,因此本地端口一共有2^16=65536个,即0-65535,其中0~1023是预留端口,0有特殊含义不能使用,1024以下端口都是超级管理员用户(如root)才可以使用,因此就算使用root权限,一台机器最多能使用的端口也只有65535个(除去一些保留的和已被占用的端口,实际可能不足这个数).
### HTTP和TCP的关系
- HTTP协议即超文本传送协议(Hypertext Transfer Protocol )
- HTTP协议是建立在TCP协议之上的一种应用。
- HTTP连接最显著的特点是客户端发送的每次请求都需要服务器回送响应，在请求结束后，会主动释放连接。从建立连接到关闭连接的过程称为“一次连接”。
- 由于HTTP在每次请求结束后都会主动释放连接，因此HTTP连接是一种“短连接”，要保持客户端程序的在线状态，需要不断地向服务器发起连接请求。
- 通常的 做法是即时不需要获得任何数据，客户端也保持每隔一段固定的时间向服务器发送一次“保持连接”的请求，服务器在收到该请求后对客户端进行回复，表明知道客户端“在线”。若服务器长时间无法收到客户端的请求，则认为客户端“下线”，若客户端长时间无法收到服务器的回复，则认为网络已经断开。
### HTTP数据量很大，怎么发送
- 客户端把请求分几次发送，每次发送服务端能接受的最大请求大小，最后在服务端合并即可
### Socket编程
- 套接字是一种进程间通信的方法，不同于以往介绍的的进程通信方法的是，它并不局限于同一台计算机的资源，例如共享内容或者消息队列。
- 一台机器上的进程可以使用套接字与另一台机器上的进程通信。因此客户与服务器可以分散到网络中。
- 同一台机器的进程间也可以用套接字通信。
### 一个URL从浏览器输入到响应页面，整个过程是怎么样的，能讲得多详细就讲多详细。
- 1、首先，在浏览器地址栏中输入url
- 2、浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存中有，会直接在屏幕中显示页面内容。若没有，则跳到第三步操作。
- 3、在发送http请求前，需要域名解析(DNS解析)，解析获取相应的IP地址。
- 4、浏览器向服务器发起tcp连接，与浏览器建立tcp三次握手。
- 5、握手成功后，浏览器向服务器发送http请求，请求数据包。
- 6、服务器处理收到的请求，将数据返回至浏览器
- 7、浏览器收到HTTP响应
- 8、读取页面内容，浏览器渲染，解析html源码
- 9、生成Dom树、解析css样式、js交互
- 10、客户端和服务器交互
### HTTP的请求头，作用
- GET：获取资源，GET方法用来请求已被URI识别的资源。指定的资源经服务器端解析后返回响应内容（也就是说，如果请求的资源是文本，那就保持原样返回；如果是CGI[通用网关接口]那样的程序，则返回经过执行后的输出结果）。
- POST：传输实体文本，虽然用GET方法也可以传输实体的主体，但一般不用GET方法进行传输，而是用POST方法；虽然GET方法和POST方法很相似，但是POST的主要目的并不是获取响应的主体内容。
- HEAD：获得报文首部，HEAD方法和GET方法一样，知识不返回豹纹的主体部分，用于确认URI的有效性及资源更新的日期时间等。
- PUT：传输文件，PUT方法用来传输文件，就像FTP协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存在请求URI指定的位置。但是HTTP/1.1的PUT方法自身不带验证机制，任何人都可以上传文件，存在安全问题，故一般不用。
- DELETE：删除文件，指明客户端想让服务器删除某个资源，与PUT方法相反，按URI删除指定资源
- OPTIONS：询问支持的方法，OPTIONS方法用来查询针对请求URI指定资源支持的方法（客户端询问服务器可以提交哪些请求方法）
- TRACE：追踪路径，客户端可以对请求消息的传输路径进行追踪，TRACE方法是让Web服务器端将之前的请求通信还给客户端的方法
- CONNECT：要求用隧道协议连接代理，CONNECT方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信。主要使用SSL（安全套接层）和TLS（传输层安全）协议把通信内容加密后经网络隧道传输
### Http断点续传
- 1、如何从断点处开始下载：System.Net.HttpWebRequest 这个对象有个AddRange（int pos）方法，该方表示在文件长度pos处开始下载。
- 2、如何找到本地已经下载部分的文件断点（上述参数pos）：使用对FielStream fs= New FileStream(path, FileMode.Open)打开文件，则断点位置即为pos=fs.Length;
- 3、如何在文件断点结尾处写入（从网络下载）数据流：fs.Seek(pos, SeekOrigin.Current);
- 4、如何保存文件：当文件还未下载完时，我们在文件末尾追加个.temp后缀，当http的流读完时我们使用File.Move(xx.zip.temp,xx.zip);//将临时文件改为正常文件后缀
### 如何判断一个IP是不是国内IP？
- 最多的办法就是前端获取到ip之后传入后台，由后台来根据ip对照表筛选判断
### http缓存
- 浏览器缓存分为强缓存和协商缓存
- 浏览器先根据这个资源的http头信息来判断是否命中强缓存。如果命中则直接加在缓存中的资源，并不会将请求发送到服务器。
- 如果未命中强缓存，则浏览器会将资源加载请求发送到服务器。服务器来判断浏览器本地缓存是否失效。若可以使用，则服务器并不会返回资源信息，浏览器继续从缓存加载资源。
- 如果未命中协商缓存，则服务器会将完整的资源返回给浏览器，浏览器加载新资源，并更新缓存。
### 提取两个海量url数据中的相同值
- 1 将AB两个文件，用相同的哈希函数，分解为1000个独立哈希值相同的小文件，这里哈希函数的设计是个重点。
- 2 哈希值不同的url必然不在序号对应的文件中，因此只要在序号对应的两个文件中进行互相匹配即可。
### session和cookie的区别
- cookie以文本格式存储在浏览器上，存储量有限；
- session存储在服务端，可以无限量存储多个变量并且比cookie更安全
### 怎么给大量url和ip去重
对每一个给定的URL，都是用一个已经建立好的Hash函数，映射到某个物理地址上。当需要进行检测URL是否重复的时候，只需要将这个URL进行Hash映射
### Http协议是一个无状态协议，那么有什么方法可以让用户保留登录的状态？
使用cookie和session都可以
### http和https的区别，

HTTP特点：
- 无状态：协议对客户端没有状态存储，对事物处理没有“记忆”能力，比如访问一个网站需要反复进行登录操作
- 无连接：HTTP/1.1之前，由于无状态特点，每次请求需要通过TCP三次握手四次挥手，和服务器重新建立连接。比如某个客户机在短时间多次请求同一个资源，服务器并不能区别是否已经响应过用户的请求，所以每次需要重新响应请求，需要耗费不必要的时间和流量。
- 基于请求和响应：基本的特性，由客户端发起请求，服务端响应
- 简单快速、灵活
- 通信使用明文、请求和响应不会对通信方进行确认、无法保护数据的完整性
HTTPS有如下特点：
- 内容加密：采用混合加密技术，中间者无法直接查看明文内容
- 验证身份：通过证书认证客户端访问的是自己的服务器
- 保护数据完整性：防止传输的内容被中间人冒充或者篡改
### https加密的过程
- 1.服务器把自己的公开密钥登录至数字证书认证机构。
- 2.数字证书认证机构用自己的私有密钥向服务器的公开密码署数字签名并颁发公钥证书。
- 3.客户端拿到服务器的公钥证书后，使用数字签名认证机构的公开密钥，向数字证书认证机构验证公钥证书上的数字签名，以确认服务器的公开密钥的真实性。
- 4.使用服务器的公开密钥对报文加密后发送。
- 5.服务器用私有密钥对报文解密。
### 消息队列作用
异步处理，应用解耦，流量削锋和消息通讯四个场景